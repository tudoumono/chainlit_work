# Chainlit Electron アプリケーション

このアプリケーションは、Chainlit（Pythonベースのチャットアプリ）をElectronでラップしたデスクトップアプリケーションです。環境設定を簡単に行い、ワンクリックでチャットを開始できます。

## 機能

- 簡単な環境変数（.env）エディタ
- ワンクリックでChainlitサーバーを起動
- アプリ内でチャットインターフェースを表示
- メニューから設定画面に簡単に戻れる機能
- 安全なアプリケーション終了（すべての関連プロセスを確実に終了）

## インストール方法

1. 配布されたインストーラー（.exeファイル）をダウンロードします
2. インストーラーを実行し、画面の指示に従ってインストールを完了します
3. インストール完了後、デスクトップまたはスタートメニューからアプリケーションを起動できます

## 使い方

### 初回起動時

1. アプリケーションを起動すると、最初に環境設定（.env）画面が表示されます
2. 必要な設定を入力します（OpenAI APIキーなど）
3. 「保存 & Chatを開始」ボタンをクリックします
4. Chainlitサーバーが起動し、チャットインターフェースが表示されます

### 環境設定（.env）の記述方法

環境設定ファイル（.env）には、APIキーなどの重要な情報を記述します。正しく動作させるためには、以下のルールに従って記述してください。

#### 記述ルール

1. 各設定は「キー=値」の形式で記述します
2. 行の先頭に「#」を付けるとコメント（説明文）になります
3. 文字列（テキスト）を値として設定する場合は、ダブルクォーテーション（"）で囲みます
4. 数値はそのまま記述します（クォーテーションで囲みません）
5. 行の最後にはセミコロン（;）や句読点は不要です
6. キーと値の間の「=」の前後にスペースは不要です

#### 設定例

```
# OpenAI APIキー（必須）
OPENAI_API_KEY="sk-abcdef123456789"

# デバッグモード（1=有効、0=無効）
DEBUG_MODE=1

# モデル設定
MODEL_NAME="gpt-4"
MAX_TOKENS=2000

# アプリの表示名
APP_TITLE="マイAIアシスタント"
```

#### よくある記述ミス

❌ 間違った記述:
```
OPENAI_API_KEY = "sk-abcdef123456789";  # =の前後にスペース、行末にセミコロン
model name = gpt-4                       # キーにスペース、値にクォーテーションがない
"DEBUG_MODE"="1"                         # キーをクォーテーションで囲っている
```

✅ 正しい記述:
```
OPENAI_API_KEY="sk-abcdef123456789"
MODEL_NAME="gpt-4"
DEBUG_MODE=1
```

#### 重要なポイント

- APIキーは必ず **ダブルクォーテーション** で囲んでください
- キー名は **大文字** で記述するのが一般的です
- キー名にスペースを含めないでください
- 値にスペースが含まれる場合は、必ずダブルクォーテーションで囲んでください

### 設定に戻る方法

チャット画面から設定画面に戻るには以下のいずれかの方法を使用できます：

- メニューバーの「ファイル」→「設定に戻る」を選択
- キーボードショートカット「Ctrl+,」（Macでは「Cmd+,」）を使用

### アプリの終了

- ウィンドウの閉じるボタン（×）をクリックする
- メニューバーの「ファイル」→「終了」を選択する

アプリを終了すると、Chainlitサーバーを含むすべての関連プロセスが確実に終了します。

## トラブルシューティング

### チャットが起動しない場合

1. 環境設定（.env）が正しく設定されているか確認してください
2. アプリケーションを一度終了し、再起動してみてください
3. ログファイルを確認してください（以下の場所にあります）:
   - `%APPDATA%\chainlit-electron\logs\chainlit.log`（Windows）
   - `~/Library/Application Support/chainlit-electron/logs/chainlit.log`（Mac）

### .env設定で問題がある場合

- APIキーが無効または空の場合、接続エラーが発生します
- キーと値のフォーマットを確認してください（上記の「記述ルール」セクション参照）
- 特殊文字やスペースが含まれていないか確認してください

### その他の問題

問題が解決しない場合は、アプリケーション提供者にお問い合わせください。

## プライバシーと安全性について

- このアプリケーションはローカルでのみ動作し、設定ファイルやログはお使いのコンピューター内に保存されます
- APIキーなどの機密情報はユーザーのコンピューター上に安全に保存されます
- ネットワーク通信は、設定されたAPIサービス（OpenAIなど）との間でのみ行われます

## 更新情報

- バージョン 1.0.0: 初回リリース
- バージョン 1.1.0: セキュリティ強化、メニューバーの追加